(window.webpackJsonpremote=window.webpackJsonpremote||[]).push([[0],{0:function(e,t){e.exports=PropTypes},1:function(e,t){e.exports=React},12:function(e,t){e.exports=ReactDOM},229:function(e,t,a){e.exports=a(471)},230:function(e,t,a){},232:function(e,t,a){},233:function(e,t,a){},234:function(e,t,a){},235:function(e,t,a){},280:function(e,t){e.exports=ObjectAssign},291:function(e,t,a){},292:function(e,t,a){},47:function(e,t){e.exports=reactLifecyclesCompat},471:function(e,t,a){"use strict";a.r(t);var m=a(1),i=a.n(m),r=a(12),u=a.n(r),n=(a(230),a(187)),p=a(19),s=a.n(p),c=a(51),o=a(25),h=(a(232),a(233),function(e){var t=e.label,a=e.value,m=e.unit;return i.a.createElement("div",{className:"Indicator"},i.a.createElement("span",{className:"Label"},t),i.a.createElement("span",{className:"Value"},i.a.createElement("span",null,a),i.a.createElement("span",{className:"Unit"},m)))});a(234),a(235);function d(e){var t=e.children,a=e.className;return m.createElement("div",{className:"Toggle ".concat(a||"")},t)}d.Button=function(e){var t=e.id,a=e.value,i=e.children,r=e.onChange,u=e.checked;return m.createElement(m.Fragment,null,m.createElement("input",{type:"radio",value:a,checked:u||!1,onChange:function(e){e.target.checked&&r(a)},id:t,className:"Toggle-Option-Radio"}),m.createElement("label",{htmlFor:t,className:"Toggle-Option"},i))};var l=a(203),y=(a(290),function(e){var t=e.onPowerChange,a=e.onModeChange,r=e.onFanSpeedChange,u=e.onTemperatureChange,n=e.state,p=n.power,s=n.mode,c=n.fan_speed,h=n.temperature,y="heater"===s?20:22,f=Object(m.useState)(h),b=Object(o.a)(f,2),v=b[0],g=b[1];return i.a.createElement(i.a.Fragment,null,i.a.createElement(d,{className:"Option-row"},i.a.createElement(d.Button,{id:"pwr-on",value:!0,checked:p,onChange:t},"On"),i.a.createElement(d.Button,{id:"pwr-off",value:!1,checked:!p,onChange:t},"Off")),i.a.createElement(d,{className:"Option-row"},i.a.createElement(d.Button,{id:"mode-auto",value:"auto",checked:"auto"===s,onChange:a},"Auto"),i.a.createElement(d.Button,{id:"mode-cooler",value:"cooler",checked:"cooler"===s,onChange:a},i.a.createElement("i",{className:"far fa-snowflake"})),i.a.createElement(d.Button,{id:"mode-heater",value:"heater",checked:"heater"===s,onChange:a},i.a.createElement("i",{className:"fas fa-sun"}))),i.a.createElement(d,{className:"Option-row"},i.a.createElement(d.Button,{id:"speed-auto",value:"auto",checked:"auto"===c,onChange:r},"Auto"),i.a.createElement(d.Button,{id:"speed-high",value:"high",checked:"high"===c,onChange:r},i.a.createElement("i",{className:"fas fa-fan"})),i.a.createElement(d.Button,{id:"speed-low",value:"low",checked:"low"===c,onChange:r},i.a.createElement("i",{className:"fas fa-fan small"}))),i.a.createElement("div",{className:"Option-row Option-row_slider"},i.a.createElement(l.a,{min:y,max:30,value:v,onChange:g,onAfterChange:u,trackStyle:{backgroundColor:"transparent",height:6},railStyle:{backgroundColor:"#106d82",height:6},handleStyle:{border:"1px solid #106d82",height:20,width:20,marginLeft:0,marginTop:-7,backgroundColor:"white"}}),i.a.createElement("div",{className:"Target-temperature"},v,"\xb0C")))}),f=a(191),b=a(192),v=[{temperature:25,humidity:57,timestamp:1569930002},{temperature:25,humidity:56,timestamp:1569928801},{temperature:26,humidity:57,timestamp:1569927602},{temperature:27,humidity:57,timestamp:1569926402},{temperature:28,humidity:63,timestamp:1569925202},{temperature:28,humidity:64,timestamp:1569924002},{temperature:28,humidity:63,timestamp:1569922802},{temperature:28,humidity:63,timestamp:1569921602},{temperature:28,humidity:63,timestamp:1569920402},{temperature:28,humidity:63,timestamp:1569919202},{temperature:28,humidity:62,timestamp:1569918002},{temperature:28,humidity:62,timestamp:1569916802},{temperature:28,humidity:63,timestamp:1569915602},{temperature:28,humidity:63,timestamp:1569914402},{temperature:28,humidity:64,timestamp:1569913202},{temperature:28,humidity:63,timestamp:1569912002},{temperature:28,humidity:63,timestamp:1569910802},{temperature:28,humidity:62,timestamp:1569909602},{temperature:28,humidity:62,timestamp:1569908402},{temperature:28,humidity:60,timestamp:1569907202},{temperature:28,humidity:58,timestamp:1569906002},{temperature:29,humidity:58,timestamp:1569904801},{temperature:30,humidity:62,timestamp:1569903602},{temperature:30,humidity:61,timestamp:1569902402},{temperature:30,humidity:60,timestamp:1569901202},{temperature:30,humidity:59,timestamp:1569900002},{temperature:30,humidity:60,timestamp:1569898802},{temperature:29,humidity:61,timestamp:1569897602},{temperature:29,humidity:61,timestamp:1569896402},{temperature:29,humidity:61,timestamp:1569895202},{temperature:28,humidity:63,timestamp:1569894002},{temperature:28,humidity:65,timestamp:1569892802},{temperature:27,humidity:65,timestamp:1569891602},{temperature:27,humidity:65,timestamp:1569890402},{temperature:27,humidity:64,timestamp:1569889202},{temperature:27,humidity:65,timestamp:1569888002},{temperature:27,humidity:65,timestamp:1569886802},{temperature:26,humidity:66,timestamp:1569884402},{temperature:26,humidity:66,timestamp:1569883201},{temperature:26,humidity:66,timestamp:1569882002},{temperature:26,humidity:66,timestamp:1569880802},{temperature:26,humidity:66,timestamp:1569879602},{temperature:26,humidity:66,timestamp:1569878402},{temperature:26,humidity:66,timestamp:1569877202},{temperature:26,humidity:66,timestamp:1569876002},{temperature:26,humidity:65,timestamp:1569874802},{temperature:26,humidity:65,timestamp:1569873602},{temperature:26,humidity:65,timestamp:1569872402},{temperature:26,humidity:65,timestamp:1569871202},{temperature:26,humidity:65,timestamp:1569870002},{temperature:27,humidity:65,timestamp:1569868802},{temperature:27,humidity:65,timestamp:1569867602},{temperature:27,humidity:65,timestamp:1569866402},{temperature:27,humidity:65,timestamp:1569865202},{temperature:27,humidity:64,timestamp:1569864002},{temperature:26,humidity:65,timestamp:1569862802},{temperature:25,humidity:66,timestamp:1569861602},{temperature:25,humidity:65,timestamp:1569860402},{temperature:27,humidity:63,timestamp:1569859202},{temperature:27,humidity:63,timestamp:1569858002},{temperature:27,humidity:62,timestamp:1569856802},{temperature:27,humidity:62,timestamp:1569855602},{temperature:27,humidity:62,timestamp:1569854402},{temperature:27,humidity:61,timestamp:1569853202},{temperature:27,humidity:61,timestamp:1569852002},{temperature:27,humidity:60,timestamp:1569850802},{temperature:27,humidity:60,timestamp:1569849602},{temperature:26,humidity:59,timestamp:1569848402},{temperature:26,humidity:58,timestamp:1569847201},{temperature:26,humidity:57,timestamp:1569846002},{temperature:25,humidity:56,timestamp:1569844802},{temperature:25,humidity:56,timestamp:1569844802},{temperature:25,humidity:57,timestamp:1569843602},{temperature:25,humidity:56,timestamp:1569842402},{temperature:24,humidity:50,timestamp:1569841202},{temperature:25,humidity:51,timestamp:1569840002},{temperature:27,humidity:57,timestamp:1569838802},{temperature:28,humidity:65,timestamp:1569837602},{temperature:29,humidity:66,timestamp:1569836402},{temperature:29,humidity:66,timestamp:1569835202},{temperature:29,humidity:65,timestamp:1569834002},{temperature:29,humidity:64,timestamp:1569832802},{temperature:29,humidity:64,timestamp:1569831602},{temperature:29,humidity:64,timestamp:1569830402},{temperature:29,humidity:63,timestamp:1569829202},{temperature:29,humidity:63,timestamp:1569828002},{temperature:29,humidity:63,timestamp:1569826802},{temperature:29,humidity:63,timestamp:1569825602},{temperature:29,humidity:63,timestamp:1569824402},{temperature:29,humidity:63,timestamp:1569823202},{temperature:29,humidity:63,timestamp:1569822002},{temperature:29,humidity:63,timestamp:1569820802},{temperature:29,humidity:63,timestamp:1569819602},{temperature:29,humidity:63,timestamp:1569818402},{temperature:29,humidity:63,timestamp:1569817202},{temperature:29,humidity:63,timestamp:1569816002},{temperature:28,humidity:62,timestamp:1569814801},{temperature:28,humidity:62,timestamp:1569813602},{temperature:28,humidity:61,timestamp:1569812402},{temperature:28,humidity:62,timestamp:1569811202},{temperature:28,humidity:62,timestamp:1569810002},{temperature:28,humidity:61,timestamp:1569808802},{temperature:28,humidity:63,timestamp:1569807602},{temperature:27,humidity:63,timestamp:1569806401},{temperature:27,humidity:62,timestamp:1569805202},{temperature:27,humidity:63,timestamp:1569804002},{temperature:27,humidity:64,timestamp:1569802802},{temperature:27,humidity:66,timestamp:1569801602},{temperature:26,humidity:67,timestamp:1569800402},{temperature:26,humidity:67,timestamp:1569799202},{temperature:26,humidity:67,timestamp:1569798002},{temperature:26,humidity:67,timestamp:1569796802},{temperature:25,humidity:66,timestamp:1569795602},{temperature:25,humidity:66,timestamp:1569794402},{temperature:25,humidity:66,timestamp:1569793202},{temperature:25,humidity:66,timestamp:1569792002},{temperature:25,humidity:66,timestamp:1569790802},{temperature:25,humidity:66,timestamp:1569789602},{temperature:25,humidity:66,timestamp:1569788402},{temperature:25,humidity:65,timestamp:1569787202},{temperature:25,humidity:65,timestamp:1569786001},{temperature:25,humidity:65,timestamp:1569784802},{temperature:25,humidity:65,timestamp:1569783604},{temperature:25,humidity:64,timestamp:1569782402},{temperature:25,humidity:64,timestamp:1569781202},{temperature:25,humidity:64,timestamp:1569780002},{temperature:25,humidity:63,timestamp:1569778802},{temperature:25,humidity:61,timestamp:1569777602},{temperature:25,humidity:61,timestamp:1569776402},{temperature:24,humidity:61,timestamp:1569775799},{temperature:24,humidity:62,timestamp:1569775284},{temperature:24,humidity:62,timestamp:1569775261},{temperature:25,humidity:64,timestamp:1569775202},{temperature:25,humidity:67,timestamp:1569774949},{temperature:25,humidity:66,timestamp:1569774652},{temperature:25,humidity:65,timestamp:1569774603},{temperature:25,humidity:65,timestamp:1569774514}],g=function(){function e(){Object(f.a)(this,e),this.url_base="/api/"}return Object(b.a)(e,[{key:"_post",value:function(e,t){var a=this.url_base+e,m={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json;charset=UTF-8"}};t&&(m.body=JSON.stringify(t)),fetch(a,m)}},{key:"off",value:function(){this._post("off")}},{key:"on",value:function(){this._post("on")}},{key:"mode",value:function(e){this._post("mode",{mode:e})}},{key:"fan",value:function(e){this._post("fan",{speed:e})}},{key:"temperature",value:function(e){this._post("temperature",{temperature:e})}},{key:"history",value:function(){var e=Object(c.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",v);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"sensor",value:function(){var e=Object(c.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",v[0]);case 2:return e.next=4,fetch(this.url_base+"sensor");case 4:return t=e.sent,e.next=7,t.json();case 7:if(0!==(a=e.sent).length){e.next=10;break}return e.abrupt("return",null);case 10:return e.abrupt("return",a[0]);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"state",value:function(){var e=Object(c.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",E);case 3:return t=e.sent,e.next=6,t.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),E={mode:"auto",power:!1,fan_speed:"auto",temperature:25},O=(a(291),function(e){var t=e.children,a=Object(m.useState)(!0),r=Object(o.a)(a,2),u=r[0],n=r[1];return i.a.createElement("div",{className:"Drawer"},i.a.createElement("div",{className:"Drawer-Content "+(u?"Open":"")},t),i.a.createElement("button",{className:"Drawer-Button",onClick:function(){return n(!u)}},u?i.a.createElement("i",{className:"fa fa-chevron-up"}):i.a.createElement("i",{className:"fa fa-chevron-down"})))}),w=a(66),k=(a(292),a(193)),j=a.n(k),C=a(26),N=function(e){var t=e.x,a=e.y,m=(e.stroke,e.payload);return i.a.createElement("g",{transform:"translate(".concat(t,",").concat(a,")")},i.a.createElement("text",{x:0,y:-8,dy:16,textAnchor:"end",fill:"#666",transform:"rotate(-45)"},j()(1e3*m.value).local().format("DD-MM HH:mm")))},x=function(e){var t=e.history,a=Math.min.apply(Math,Object(w.a)(t.map((function(e){return e.temperature})))),m=Math.max.apply(Math,Object(w.a)(t.map((function(e){return e.temperature})))),r=Math.min.apply(Math,Object(w.a)(t.map((function(e){return e.humidity})))),u=Math.max.apply(Math,Object(w.a)(t.map((function(e){return e.humidity}))));return i.a.createElement(C.d,{className:"Chart"},i.a.createElement(C.c,{data:t.sort((function(e,t){return e.timestamp-t.timestamp})),margin:{top:60,left:10,right:10}},i.a.createElement(C.a,{strokeDasharray:"10 10",strokeOpacity:"0.2"}),i.a.createElement(C.e,{dataKey:"timestamp",minTickGap:0,tickCount:5,tick:N,height:100}),i.a.createElement(C.f,{yAxisId:"temperature",domain:[a-2,m+2],label:{value:"Temperature",angle:-90,position:"insideLeft",fill:"white",style:{textAnchor:"middle"}}}),i.a.createElement(C.f,{yAxisId:"humidity",orientation:"right",domain:[r-2,u+2],label:{value:"Humidity",angle:90,position:"insideRight",fill:"white",style:{textAnchor:"middle"}}}),i.a.createElement(C.b,{yAxisId:"temperature",type:"monotone",dataKey:"temperature",stroke:"#cf2d2d",isAnimationActive:!1,dot:!1}),i.a.createElement(C.b,{yAxisId:"humidity",type:"monotone",dataKey:"humidity",strokeWidth:2,stroke:"#7a7391",dot:!1,isAnimationActive:!1})))};function A(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(e);t&&(m=m.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,m)}return a}function S(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?A(a,!0).forEach((function(t){Object(n.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):A(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var T=new g,M=function(){var e=Object(m.useState)(E),t=Object(o.a)(e,2),a=t[0],r=t[1],u=Object(m.useState)(!0),n=Object(o.a)(u,2),p=n[0],d=n[1],l=Object(m.useState)(null),f=Object(o.a)(l,2),b=f[0],v=f[1],g=Object(m.useState)([]),w=Object(o.a)(g,2),k=w[0],j=w[1];return Object(m.useEffect)((function(){function e(){return(e=Object(c.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.history();case 2:t=e.sent,j(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(m.useEffect)((function(){T.state().then((function(e){r(e),T.sensor().then((function(e){v(e)})),d(!1)}))}),[]),p?i.a.createElement("div",null,"Please wait"):i.a.createElement("div",{className:"App"},i.a.createElement("header",{className:"App-header"},i.a.createElement("div",{className:"Indicators"},i.a.createElement(h,{label:"Temperature",value:b?b.temperature:"N/A",unit:"\xb0C"}),i.a.createElement(h,{label:"Humidity",value:b?b.humidity:"N/A",unit:"%"}))),i.a.createElement("main",{className:"App-main"},i.a.createElement(O,null,0===k.length?"Collecting data...":i.a.createElement(x,{history:k})),i.a.createElement(y,{onPowerChange:function(e){e?T.on():T.off(),r((function(t){return S({},t,{power:e})}))},onModeChange:function(e){T.mode(e),r((function(t){return S({},t,{mode:e})}))},onFanSpeedChange:function(e){T.fan(e),r((function(t){return S({},t,{fan_speed:e})}))},onTemperatureChange:function(e){T.temperature(e),r((function(t){return S({},t,{temperature:e})}))},state:a})))};u.a.render(i.a.createElement(M,null),document.getElementById("root"))}},[[229,1,2]]]);
//# sourceMappingURL=main.d668ef2c.chunk.js.map