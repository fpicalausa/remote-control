(window.webpackJsonpremote=window.webpackJsonpremote||[]).push([[0],{0:function(e,t){e.exports=PropTypes},1:function(e,t){e.exports=React},122:function(e,t){e.exports=ObjectAssign},134:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),o=n(7),c=n.n(o),u=(n(73),n(65)),s=n(25),l=(n(74),n(75),function(e){var t=e.label,n=e.value,a=e.unit;return r.a.createElement("div",{className:"Indicator"},r.a.createElement("span",{className:"Label"},t),r.a.createElement("span",{className:"Value"},r.a.createElement("span",null,n),r.a.createElement("span",{className:"Unit"},a)))});n(76),n(77);function i(e){var t=e.children,n=e.className;return a.createElement("div",{className:"Toggle ".concat(n||"")},t)}i.Button=function(e){var t=e.id,n=e.value,r=e.children,o=e.onChange,c=e.checked;return a.createElement(a.Fragment,null,a.createElement("input",{type:"radio",value:n,checked:c||!1,onChange:function(e){e.target.checked&&o(n)},id:t,className:"Toggle-Option-Radio"}),a.createElement("label",{htmlFor:t,className:"Toggle-Option"},r))};var p=n(71),m=(n(132),function(e){var t=e.onPowerChange,n=e.onModeChange,o=e.onFanSpeedChange,c=e.onTemperatureChange,u=e.state,l=u.power,m=u.mode,f=u.fan_speed,h=u.temperature,d="heater"===m?20:22,g=Object(a.useState)(h),b=Object(s.a)(g,2),v=b[0],O=b[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(i,{className:"Option-row"},r.a.createElement(i.Button,{id:"pwr-on",value:!0,checked:l,onChange:t},"On"),r.a.createElement(i.Button,{id:"pwr-off",value:!1,checked:!l,onChange:t},"Off")),r.a.createElement(i,{className:"Option-row"},r.a.createElement(i.Button,{id:"mode-auto",value:"auto",checked:"auto"===m,onChange:n},"Auto"),r.a.createElement(i.Button,{id:"mode-cooler",value:"cooler",checked:"cooler"===m,onChange:n},r.a.createElement("i",{className:"far fa-snowflake"})),r.a.createElement(i.Button,{id:"mode-heater",value:"heater",checked:"heater"===m,onChange:n},r.a.createElement("i",{className:"fas fa-sun"}))),r.a.createElement(i,{className:"Option-row"},r.a.createElement(i.Button,{id:"speed-auto",value:"auto",checked:"auto"===f,onChange:o},"Auto"),r.a.createElement(i.Button,{id:"speed-high",value:"high",checked:"high"===f,onChange:o},r.a.createElement("i",{className:"fas fa-fan"})),r.a.createElement(i.Button,{id:"speed-low",value:"low",checked:"low"===f,onChange:o},r.a.createElement("i",{className:"fas fa-fan small"}))),r.a.createElement("div",{className:"Option-row Option-row_slider"},r.a.createElement(p.a,{min:d,max:30,value:v,onChange:O,onAfterChange:c,trackStyle:{backgroundColor:"transparent",height:6},railStyle:{backgroundColor:"#106d82",height:6},handleStyle:{border:"1px solid #106d82",height:20,width:20,marginLeft:0,marginTop:-7,backgroundColor:"white"}}),r.a.createElement("div",{className:"Target-temperature"},v,"\xb0C")))}),f=n(29),h=n.n(f),d=n(51),g=n(69),b=n(70),v={mode:"auto",power:!1,fan_speed:"auto",temperature:25};function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(n,!0).forEach((function(t){Object(u.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var w=new(function(){function e(){Object(g.a)(this,e),this.url_base="/api/"}return Object(b.a)(e,[{key:"_post",value:function(e,t){var n=this.url_base+e,a={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json;charset=UTF-8"}};t&&(a.body=JSON.stringify(t)),fetch(n,a)}},{key:"off",value:function(){this._post("off")}},{key:"on",value:function(){this._post("on")}},{key:"mode",value:function(e){this._post("mode",{mode:e})}},{key:"fan",value:function(e){this._post("fan",{speed:e})}},{key:"temperature",value:function(e){this._post("temperature",{temperature:e})}},{key:"sensor",value:function(){var e=Object(d.a)(h.a.mark((function e(){var t,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(this.url_base+"get_sensor");case 2:return t=e.sent,e.next=5,t.json();case 5:if(0!=(n=e.sent).length){e.next=8;break}return e.abrupt("return",null);case 8:return e.abrupt("return",n[0]);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"state",value:function(){var e=Object(d.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(this.url_base+"state");case 2:return t=e.sent,e.next=5,t.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}()),y=function(){var e=Object(a.useState)(v),t=Object(s.a)(e,2),n=t[0],o=t[1],c=Object(a.useState)(!0),u=Object(s.a)(c,2),i=u[0],p=u[1],f=Object(a.useState)(null),h=Object(s.a)(f,2),d=h[0],g=h[1];return Object(a.useEffect)((function(){w.state().then((function(e){o(e),w.sensor().then((function(e){g(e)})),p(!1)}))}),[]),i?r.a.createElement("div",null,"Please wait"):r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement(l,{label:"Temperature",value:d?d.temperature:"N/A",unit:"\xb0C"}),r.a.createElement(l,{label:"Humidity",value:d?d.humidity:"N/A",unit:"%"})),r.a.createElement("main",{className:"App-main"},r.a.createElement(m,{onPowerChange:function(e){e?w.on():w.off(),o((function(t){return E({},t,{power:e})}))},onModeChange:function(e){w.mode(e),o((function(t){return E({},t,{mode:e})}))},onFanSpeedChange:function(e){w.fan(e),o((function(t){return E({},t,{fan_speed:e})}))},onTemperatureChange:function(e){w.temperature(e),o((function(t){return E({},t,{temperature:e})}))},state:n})))};c.a.render(r.a.createElement(y,null),document.getElementById("root"))},35:function(e,t){e.exports=reactLifecyclesCompat},7:function(e,t){e.exports=ReactDOM},72:function(e,t,n){e.exports=n(134)},73:function(e,t,n){},74:function(e,t,n){},75:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){}},[[72,1,2]]]);
//# sourceMappingURL=main.b02dbcc6.chunk.js.map